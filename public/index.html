<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <title>WYSIWYG –†–µ–¥–∞–∫—Ç–æ—Ä</title>
  <link rel="stylesheet" href="styles/editor.css" />
  <link rel="stylesheet" href="styles/styles.css" />

  <style id="dynamic-styles"></style>
</head>

<body>
  <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
  <div class="toolbar">
    <div class="toolbar-group">
      <select id="projectSelect">
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç</option>
      </select>
      <button onclick="createProject()" title="–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç">
        <span>–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</span>
      </button>
      <button onclick="saveDocument()" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç">
        <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
      </button>
      <button onclick="exportProject()" title="–≠–∫—Å–ø–æ—Ä—Ç">
        <span>–≠–∫—Å–ø–æ—Ä—Ç</span>
      </button>
      <button onclick="changeParagraphType()" title="–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –∞–±–∑–∞—Ü–∞">
        <span>P‚ÜîH</span>
      </button>
      <button onclick="showModalDialog()" title="–°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ">
        <span>MODAL</span>
      </button>
      <button onclick="document.execCommand('bold', false, null)" title="–ñ–∏—Ä–Ω—ã–π">
        <span>B</span>
      </button>
      <button onclick="document.execCommand('italic', false, null)" title="–ö—É—Ä—Å–∏–≤">
        <span>I</span>
      </button>
      <button onclick="document.execCommand('underline', false, null)" title="–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π">
        <span>U</span>
      </button>
    </div>

    <div class="toolbar-group">
      <select id="paragraph-selector">
        <option value="">–¢–∏–ø –∞–±–∑–∞—Ü–∞...</option>
        <option value="p">–û–±—ã—á–Ω—ã–π –∞–±–∑–∞—Ü</option>
        <option value="h1">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1</option>
        <option value="h2">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2</option>
        <option value="h3">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 3</option>
        <option value="h4">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 4</option>
        <option value="h5">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 5</option>
        <option value="h6">–ó–∞–≥–æ–ª–æ–≤–æ–∫ 6</option>
      </select>
      <button class="apply-btn" onclick="applyParagraphType()" title="–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–∏–ø –∞–±–∑–∞—Ü–∞">
        <span>–ü—Ä–∏–º–µ–Ω–∏—Ç—å</span>
      </button>
      <button class="apply-btn" onclick="removeHeading()" title="–£–±—Ä–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫">
        <span>–£–±—Ä–∞—Ç—å</span>
      </button>
    </div>

    <div class="toolbar-group">
      <select id="class-selector">
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å...</option>
        <option value="highlight">–í—ã–¥–µ–ª–µ–Ω–∏–µ</option>
        <option value="code">–ö–æ–¥</option>
        <option value="red-text">–ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç</option>
        <option value="blue-text">–°–∏–Ω–∏–π —Ç–µ–∫—Å—Ç</option>
        <option value="green-text">–ó–µ–ª–µ–Ω—ã–π —Ç–µ–∫—Å—Ç</option>
        <option value="large-text">–ö—Ä—É–ø–Ω—ã–π —Ç–µ–∫—Å—Ç</option>
        <option value="small-text">–ú–µ–ª–∫–∏–π —Ç–µ–∫—Å—Ç</option>
      </select>
      <button class="apply-btn" onclick="applyClass()" title="–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å">
        <span>–ü—Ä–∏–º–µ–Ω–∏—Ç—å</span>
      </button>
      <button class="apply-btn" onclick="changeClass()" title="–ò–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å">
        <span>–ò–∑–º–µ–Ω–∏—Ç—å</span>
      </button>
      <button class="apply-btn" onclick="removeClass()" title="–£–±—Ä–∞—Ç—å –∫–ª–∞—Å—Å">
        <span>–£–±—Ä–∞—Ç—å</span>
      </button>
    </div>

    <div class="toolbar-group">
      <select id="special-selector">
        <option value="">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è...</option>
        <option value="definition">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</option>
        <option value="note">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</option>
        <option value="warning">–í–Ω–∏–º–∞–Ω–∏–µ</option>
      </select>
      <button class="apply-btn" onclick="applySpecialClass()" title="–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ">
        <span>–í—ã–¥–µ–ª–∏—Ç—å</span>
      </button>
      <button class="apply-btn" onclick="changeSpecialClass()" title="–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –≤—ã–¥–µ–ª–µ–Ω–∏—è">
        <span>–ò–∑–º–µ–Ω–∏—Ç—å</span>
      </button>
      <button class="apply-btn" onclick="removeSpecialClass()" title="–£–±—Ä–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ">
        <span>–£–±—Ä–∞—Ç—å</span>
      </button>
    </div>

    <div class="toolbar-group">
      <button onclick="document.getElementById('file-input').click()" title="–û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç">
        <span>–û—Ç–∫—Ä—ã—Ç—å</span>
      </button>
      <input type="file" id="file-input" accept=".html" onchange="loadDocument(event)">
      <button onclick="toggleView()" title="–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–¥–∞" id="view-toggle-btn">
        <span>–ö–æ–¥</span>
      </button>
      <button onclick="toggleCSSEditor()" title="–†–µ–¥–∞–∫—Ç–æ—Ä CSS">
        <span>CSS</span>
      </button>
    </div>

    <div class="toolbar-group">
      <div class="dropdown">
        <button onclick="showCommandsMenu()">–ö–æ–º–∞–Ω–¥—ã</button>
        <div id="commandsDropdownMenu" class="dropdown-content">
          <a onclick="clearAttributes()" href="#">–û—á–∏—Å—Ç–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã</a>
          <a onclick="addClasses()" href="#">–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å—ã</a>
        </div>
      </div>
      <button onclick="document.getElementById('file-input-docx').click()" title="–ò–º–ø–æ—Ä—Ç DOCX">
        –ò–º–ø–æ—Ä—Ç DOCX
      </button>
      <input type="file" id="file-input-docx" onchange="importDocx(event)">
    </div>
    <div class="toolbar-group">
      <button onclick="insertList('ul')" title="–ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫">
        <span>‚Ä¢ –°–ø–∏—Å–æ–∫</span>
      </button>
      <button onclick="insertList('ol')" title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫">
        <span>1. –°–ø–∏—Å–æ–∫</span>
      </button>
      <button onclick="indentList()" title="–£–≤–µ–ª–∏—á–∏—Ç—å –æ—Ç—Å—Ç—É–ø">
        <span>‚Üí</span>
      </button>
      <button onclick="outdentList()" title="–£–º–µ–Ω—å—à–∏—Ç—å –æ—Ç—Å—Ç—É–ø">
        <span>‚Üê</span>
      </button>
      <button onclick="document.getElementById('image-upload').click()" title="–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
        üì∑
      </button>
      <input type="file" id="image-upload" accept="image/*" onchange="uploadImage(event)" style="display: none;">
    </div>‚Äã


  </div>


  <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å -->
  <div class="main-container">
    <div class="editor-container">
      <div class="panel">
        <div class="panel-header">–†–µ–¥–∞–∫—Ç–æ—Ä</div>
        <div id="editor" contenteditable="true">
          <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä</h1>
          <p>–≠—Ç–æ <span class="highlight">–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä</span>, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
          <p>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</p>
          <p>–ü—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–æ–∫</p>
          <p>–î–æ–±–∞–≤–ª—è—Ç—å CSS –∫–ª–∞—Å—Å—ã –∫ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É</p>
          <p>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ CSS —Ä–µ–¥–∞–∫—Ç–æ—Ä</p>
          <p>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å HTML –∫–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞</p>
          <p>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∞–±–∑–∞—Ü—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç</p>
          <p>–°–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏–∑ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞</p>
          <div class="definition">–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Ä–º–∏–Ω–∞—Ö –∏
            –ø–æ–Ω—è—Ç–∏—è—Ö.</div>
          <div class="note">–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ—á–∞–Ω–∏—è. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–ª–∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è.</div>
          <div class="warning">–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è.
          </div>
          <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ <strong>–≤—ã–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç</strong> –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –Ω–µ–º—É –∫–ª–∞—Å—Å!</p>
          <p>–¢–∞–∫–∂–µ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å <span class="code">–∫–æ–¥</span> –∫ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É!</p>
        </div>
        <pre id="code-view"></pre>
      </div>
    </div>
  </div>

  <!-- –î–∏–∞–ª–æ–≥ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
  <div class="modal-dialog" id="modal-dialog">
    <div class="modal-dialog-header">–°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ</div>
    <div class="dialog-body">
      <input type="text" id="modal-id" placeholder="ID –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞" value="modal-1">
      <input type="text" id="modal-button-text" placeholder="–¢–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ" value="–û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ">
    </div>
    <div class="dialog-footer">
      <button class="cancel-btn" onclick="closeModalDialog()">–û—Ç–º–µ–Ω–∞</button>
      <button class="ok-btn" onclick="createModal()">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
  </div>

  <!-- –î–∏–∞–ª–æ–≥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤ -->
  <div class="class-dialog" id="class-name-dialog">
    <div class="class-dialog-header">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –∫–ª–∞—Å—Å–∞</div>
    <div class="dialog-body">
      <p>–ù–∞–π–¥–µ–Ω –Ω–æ–≤—ã–π CSS –∫–ª–∞—Å—Å. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ:</p>
      <div id="class-list-container"></div>
    </div>
    <div class="dialog-footer">
      <button class="ok-btn" onclick="saveClassNames()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>

  <!-- CSS –†–µ–¥–∞–∫—Ç–æ—Ä (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
  <div class="css-panel" id="cssPanel">
    <div class="css-header">
      <span>–†–µ–¥–∞–∫—Ç–æ—Ä CSS</span>
      <button class="close-btn" onclick="toggleCSSEditor()">&times;</button>
    </div>
    <textarea id="css-editor">/* –°—Ç–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
.highlight {
  background-color: #fff3cd;
  padding: 2px 4px;
  border-radius: 3px;
}

.code {
  font-family: 'Courier New', monospace;
  background: #f8f9fa;
  padding: 2px 6px;
  border-radius: 4px;
  border: 1px solid #e9ecef;
}

.red-text {
  color: #e74c3c;
}

.blue-text {
  color: #3498db;
}

.green-text {
  color: #27ae60;
}

.large-text {
  font-size: 24px;
}

.small-text {
  font-size: 12px;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –≤—ã–¥–µ–ª–µ–Ω–∏–π */
.definition {
  background-color: #e3f2fd;
  border-left: 4px solid #2196f3;
  padding: 15px;
  margin: 10px 0;
  border-radius: 0 4px 4px 0;
}

.definition::before {
  content: "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: ";
  font-weight: bold;
  color: #2196f3;
}

.note {
  background-color: #fff8e1;
  border-left: 4px solid #ffc107;
  padding: 15px;
  margin: 10px 0;
  border-radius: 0 4px 4px 0;
}

.note::before {
  content: "–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: ";
  font-weight: bold;
  color: #ffc107;
}

.warning {
  background-color: #ffebee;
  border-left: 4px solid #f44336;
  padding: 15px;
  margin: 10px 0;
  border-radius: 0 4px 4px 0;
}

.warning::before {
  content: "–í–Ω–∏–º–∞–Ω–∏–µ: ";
  font-weight: bold;
  color: #f44336;
}

/* –ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ */
.custom-class {
  color: purple;
  font-weight: bold;
}</textarea>
    <div class="css-footer">
      <button class="save-btn" onclick="saveCSS()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button class="cancel-btn" onclick="toggleCSSEditor()">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>

  <!-- –û–≤–µ—Ä–ª–µ–π -->
  <div class="overlay" id="overlay" onclick="closeAllDialogs()"></div>

  <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
  <div class="message" id="message"></div>

  <script src="scripts/editor.js"></script>
  <script src="scripts/mammoth.browser.js"></script>
</body>

</html>